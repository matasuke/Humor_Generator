# Humor Generator

## to do 
- 画像間類似度を計算する際のテーブルを修正
    + オブジェクト候補をどのように選定すべきか？
    + 主観である程度抽象度の高い対象をピックアップしてよいか？
- resnetのfine tuning用スクリプト作成
    + 現状のクラステーブルの各クラスは具体的するオブジェクトが多く含まれているため，対象となるオブジェクトの総称を用いて，かつ様々なオブジェクトを追加して，再学習

- img simの計算時に用いるNORM_LISTの中国語版NORM_LIST_CHの実装
- caption生成時，及びimg_simの計算時に用いるCNNモデルの追加 VGG16, AlexNetなど
- word2vecの学習時に，humorcaptionを生成するときのクラス，キャプション生成時の固有名詞をdictに含める
    + wikiのデータを分かち書きするときにそれらのデータを含める
- img_simに用いられるclass tableを修正する必要がある
    + 上位クラスの利用 and 同じクラスが出力されないようにする

## 実験環境について
- 実験の種類
    + 普通のキャプションと提案手法でユーモアの受容性について差が見られるかどうか
    + img_sim, word_simの関係性によりユーモアの受容性がどのように変化するか？
        - 単に単語間類似度と画像間類似度を調整&ランダムの2要因分散分析で良い？
        - 画像間類似度と単語間類似度を考慮した最終的なスコアに基づいたものがユーモアの受容性が一番高いか？
            * final_score = img_sim * (1 - word_sim)
        - システムによって対話継続欲求が向上するかどうか

- 曖昧さ耐性の低い個人と高い個人の2群に分ける必要性

- ユーモアを利用することは，対話継続欲求の向上に有効であると先行研究において明らかになっているから，システムによって生成されたユーモア発話が対話継続欲求を向上するかどうかまでは調査する必要はないのでは？

# done
- 画像間類似度及び単語間類似度を計算した際，単純に画像間類似度計算後単語間類似度が高いものを採用しては，画像間類似度がそれほど高くないものを採用してしまうリスクがある
- したがって，画像間類似度及び単語間類似度の定量的な類似スコアを用いることにより，最終的にユーモアが最大化すると想定される単語を選定する
- humor_score = img_sim * (1 - word_sim)
- とりあえずはhumor_scoreをスコア算出方法として用いる感じで良い？
- humor_scoreを用いることで，画像間類似度と単語間類似度を考慮して最終的な単語を選択することができると想定される


#実験で用いるモデルのハイパーパラメーター


## 実験1について
- 実験者は日本語母語話者に限定すべき
- 実験1はシステムによって生成された文章が，ユーモアとして受容されるかどうか，そして通常のキャプションと有意な差があるかどうか検証する。
- 仮説では，画像間類似度が高く，単語間類似度が低いものがユーモアとしての受容性が最大化するため，通常のキャプション，及び単語間類似度，画像間類似度が高中低の組み合わせで生成したキャプションとのユーモア受容性の差を調査する。
- さらに，どのような画像がユーモア受容性が高く，どのような画像がユーモア受容性が低いのかを調査する
- ユーモア受容性を調査するだけなので，colloquialオプションを利用する必要はない？
- 実験2で対話継続欲求について調査するため，colloquialオプションを利用した方が統制がとれるかも
- 文章の最後の名詞を活用することで，ユーモアの受容性が向上するという知見[Valitutti 13]
- できるだけ，文章内の最後の名詞を活用する。
- Contextual Constrains
- 文書の最後に予想外の単語が出現することで，より不適合が強まると想定される。
- したがって，できるだけ文章の最後から単語を置換する
- さらに，置換後の単語と単語前方が意味的にありえるフレーズの場合よりユーモアが強まる
- 置換後の単語と前方の単語のcos類似度を計算すれば，文脈的にありえるかどうか検討できるのでは？

検討要件
- システム発話がユーモアとして受容されるか
- 画像間類似度が高く，単語間類似度が低いものがユーモアの受容性が最大化するかどうか
- どのような発話がユーモアとして受容されるか, またはされないか(ユーモア受容性が最大化したグループで，どのような画像からのユーモア文章が最大化しやすいか検討)
- 単語間類似度及び画像間類似度とユーモア評定の間の相関


# 展望
- 現状では, wrod2vecを用いて単語間類似度を計算することで，不適合を導入しているが，
単語の概念的な類似度ではなく，音声的な特徴の類似度で不適合を導入できないか？
- ex. インコ -> うんこ
- 単語間類似度を計算する際，置換対象となる単語と置換単語のモーラ数，リズムを考慮すれば，より解決, 不適合が楽？
